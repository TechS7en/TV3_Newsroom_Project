
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - TV3 Ghana</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body style="background: #f0f2f5;">
    <header>
        <div class="container nav-container">
            <a href="index.html" class="logo-area">
                <img src="images/logo.png" alt="TV3 Logo" class="logo-img" onerror="this.style.display='none'; document.getElementById('logo-fallback').style.display='flex';">
                <div id="logo-fallback" class="logo-box" style="display: none;">3</div>
                <h1 style="font-size: 24px;">ADMIN PORTAL</h1>
            </a>
            <nav>
                <ul>
                    <li><a href="index.html">VIEW SITE</a></li>
                    <li><button onclick="clearAllData()" class="btn" style="padding: 5px 15px; font-size: 10px;">CLEAR ALL</button></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container" style="margin-top: 40px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
            
            <!-- Left: Tips Management -->
            <section>
                <h2 style="margin-bottom: 20px;">NEWS TIPS RECEIVED</h2>
                <div id="admin-tips-list"></div>
            </section>

            <!-- Right: Stats & Comments -->
            <section>
                <div style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 30px;">
                    <h2 style="margin-bottom: 15px;">CONTENT ANALYTICS</h2>
                    <div id="admin-stats"></div>
                </div>

                <h2 style="margin-bottom: 20px;">RECENT COMMENTS</h2>
                <div id="admin-comments-list"></div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div>
                    <h3 style="margin-bottom: 20px;">TV3 GHANA</h3>
                    <p style="color: #aaa; font-size: 14px;">Broadcasting since 1997. The leading provider of credible news and high-quality entertainment in Ghana.</p>
                </div>
                <div>
                    <h3 style="margin-bottom: 20px;">CATEGORIES</h3>
                    <ul style="list-style: none; font-size: 14px; line-height: 2;">
                        <li>Politics</li>
                        <li>Business</li>
                        <li>Sports</li>
                        <li>Entertainment</li>
                    </ul>
                </div>
                <div>
                    <h3 style="margin-bottom: 20px;">FOLLOW US</h3>
                    <div class="social-links">
                        <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" title="X (Twitter)"><i class="fab fa-x-twitter"></i></a>
                        <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <p style="text-align: center; color: #666; font-size: 12px; margin-top: 40px;">&copy; 2024 TV3 Ghana Newsroom Project Prototype</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        function renderAdmin() {
            const tips = JSON.parse(localStorage.getItem('tv3_tips') || '[]');
            const comments = JSON.parse(localStorage.getItem('tv3_comments') || '[]');
            const stats = JSON.parse(localStorage.getItem('tv3_stats') || '{}');

            // Render Tips
            const tipsList = document.getElementById('admin-tips-list');
            tipsList.innerHTML = tips.length ? tips.map(t => `
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: relative;">
                    <span style="font-size: 10px; color: var(--tv3-red); font-weight: bold;">${t.category}</span>
                    <h3>${t.name}</h3>
                    <p style="font-size: 12px; color: #888; margin-bottom: 10px;">${t.email} | ${t.date}</p>
                    <p>${t.message}</p>
                    <button onclick="deleteItem('tv3_tips', ${t.id})" style="position: absolute; top: 20px; right: 20px; color: red; background: none; border: none; cursor: pointer;">Delete</button>
                </div>
            `).join('') : '<p>No tips found.</p>';

            // Render Comments
            const commList = document.getElementById('admin-comments-list');
            commList.innerHTML = comments.length ? comments.map(c => `
                <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 4px solid var(--tv3-gold);">
                    <strong>${c.name}</strong> - <span style="font-size: 12px; color: #888;">Story ID: ${c.storyId}</span>
                    <p>${c.text}</p>
                    <button onclick="deleteItem('tv3_comments', ${c.id})" style="font-size: 10px; color: red; background: none; border: none; cursor: pointer;">Delete</button>
                </div>
            `).join('') : '<p>No comments found.</p>';

            // Render Stats
            const statsDiv = document.getElementById('admin-stats');
            let statHtml = '<table style="width: 100%; border-collapse: collapse;">';
            if (window.NEWS_DATA) {
                window.NEWS_DATA.forEach(n => {
                    statHtml += `<tr><td style="padding: 8px 0;">${n.title.substring(0, 30)}...</td><td style="text-align: right; font-weight: bold;">${stats[n.id] || 0} clicks</td></tr>`;
                });
            }
            statHtml += '</table>';
            statsDiv.innerHTML = statHtml;
        }

        window.deleteItem = function(key, id) {
            let data = JSON.parse(localStorage.getItem(key) || '[]');
            data = data.filter(item => item.id !== id);
            localStorage.setItem(key, JSON.stringify(data));
            renderAdmin();
        };

        window.clearAllData = function() {
            if (confirm('Clear all stored data?')) {
                localStorage.clear();
                renderAdmin();
            }
        };

        document.addEventListener('DOMContentLoaded', renderAdmin);
    </script>
</body>
</html>
